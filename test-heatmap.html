<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heatmap Alignment Test</title>
    <style>
        :root {
            --text-primary: #333;
            --text-secondary: #666;
            --bg-secondary: #f5f5f5;
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #fff;
        }
        
        /* Diagnostic styles to see the structure clearly */
        .debug-border {
            border: 1px solid red !important;
        }
        
        .debug-y-axis {
            background-color: rgba(255, 0, 0, 0.1) !important;
        }
        
        .debug-grid {
            background-color: rgba(0, 255, 0, 0.1) !important;
        }
    </style>
    <link rel="stylesheet" href="css/heatmap.css">
</head>
<body>
    <div id="heatmapView"></div>
    
    <script>
        // Simplified heatmap generation for testing alignment
        function generateTestHeatmap() {
            const rowsCount = 10; // Test with 10 rows
            const lengths = [];
            for (let i = 5; i <= 14; i++) {
                lengths.push(i);
            }
            
            const html = `
                <div class="heatmap-container">
                    <h2>Test Heatmap Alignment</h2>
                    <p class="heatmap-description">Testing Y-axis alignment with heatmap rows</p>
                    
                    <div class="heatmap-wrapper debug-border">
                        <!-- Y-axis -->
                        <div class="heatmap-y-axis debug-y-axis">
                            <div class="y-axis-label">Password Length</div>
                            <div class="y-axis-values-wrapper">
                                <div class="y-axis-values" style="--rows-count: ${rowsCount}">
                                    ${lengths.reverse().map(len => `<div class="y-value debug-border">${len}</div>`).join('')}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Main heatmap -->
                        <div class="heatmap-main">
                            <div class="heatmap-grid debug-grid">
                                ${generateRows(rowsCount)}
                            </div>
                            
                            <div class="heatmap-x-axis">
                                <div class="x-axis-values">
                                    ${Array(8).fill(0).map((_, i) => `<div class="x-value">${i+1}</div>`).join('')}
                                </div>
                                <div class="x-axis-label">Frequency</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('heatmapView').innerHTML = html;
        }
        
        function generateRows(count) {
            let html = '';
            for (let i = 0; i < count; i++) {
                html += '<div class="heatmap-row debug-border">';
                for (let j = 0; j < 8; j++) {
                    const color = `hsl(${(i * 30) % 360}, 70%, 50%)`;
                    html += `<div class="heatmap-cell" style="background-color: ${color};"></div>`;
                }
                html += '</div>';
            }
            return html;
        }
        
        // Generate test heatmap on load
        window.addEventListener('load', generateTestHeatmap);
    </script>
</body>
</html>